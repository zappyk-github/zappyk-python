#!/usr/bin/env python3
# -*- coding: utf-8 -*-
__author__ = 'zappyk'

import sys, os, io, re

from lib_zappyk._pdf2img2txt import pdf2img2txt

########################################################################################################################
file_name = None
if len(sys.argv) > 1:
    file_name = str(sys.argv[1])
########################################################################################################################
########################################################################################################################
#_______________________________________________________________________________________________________________________
#
p2t = pdf2img2txt(file_name=file_name, DPI_resolution=600, debug=0)
fni = p2t.make_image(page_save=True)

for p in range(len(fni)):
    page = p + 1
    p2t.make_text_crops_page_ZucchettiCartelinoPresenze(page)
    text_crops = p2t.read_text_coord(file_image=fni[p], page_crops=page, mark_text_coord=True, mark_grid_image=False, save_image=True)
#_______________________________________________________________________________________________________________________
#
#print(text_crops)
########################################################################################################################
########################################################################################################################
sys.exit(0)